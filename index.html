<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolNova Blog</title>
    <style>
        body {
            margin: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f7fa;
            color: #2d3748;
            line-height: 1.6;
        }

        /* Header Styling */
        header {
            background: linear-gradient(135deg, #2b6cb0, #1a4971);
            color: white;
            text-align: center;
            padding: 3rem 1rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            position: relative;
            z-index: 10;
        }

        header h1 {
            margin: 0;
            font-size: 2.8rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            background: linear-gradient(to right, #ffffff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        header p {
            margin: 0.75rem 0 0;
            font-size: 1.25rem;
            opacity: 0.85;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Main Content */
        main {
            max-width: 1280px;
            margin: 2.5rem auto;
            padding: 0 1.5rem;
        }

        /* Google Translate Styling */
        .translate-container {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 1.5rem;
        }

        #google_translate_element select {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            font-size: 1rem;
            color: #2d3748;
            cursor: pointer;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        #google_translate_element select:focus {
            outline: none;
            border-color: #2b6cb0;
            box-shadow: 0 0 0 3px rgba(43, 108, 176, 0.2);
        }

        /* Iframe Styling */
        .blog-iframe {
            width: 100%;
            height: 80vh;
            border: none;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            transition: box-shadow 0.3s ease;
        }

        .blog-iframe:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* Export Button Styling */
        .export-btn {
            display: block;
            margin: 1.5rem auto;
            padding: 0.75rem 2rem;
            background: linear-gradient(135deg, #2b6cb0, #1a4971);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, background 0.3s ease;
        }

        .export-btn:hover {
            background: linear-gradient(135deg, #1a4971, #2b6cb0);
            transform: translateY(-2px);
        }

        .export-btn:active {
            transform: translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            header p {
                font-size: 1.1rem;
            }

            .blog-iframe {
                height: 70vh;
            }

            .export-btn {
                padding: 0.6rem 1.5rem;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.6rem;
            }

            header p {
                font-size: 0.95rem;
            }

            .translate-container {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ToolNova Blog</h1>
        <p>Explore the latest insights, tips, and updates from the world of technology!</p>
    </header>
    <main>
        <div class="translate-container">
            <div id="google_translate_element"></div>
        </div>
        <iframe class="blog-iframe" id="blogFrame" src="https://toolnovablog.blogspot.com" title="ToolNova Blog"></iframe>
        <button class="export-btn" onclick="exportToPDF()">Export to PDF</button>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script>
        // Initialize Google Translate
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }

        // Function to modify iframe content
        async function modifyIframeContent() {
            const iframe = document.getElementById('blogFrame');
            try {
                // Access iframe document
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

                // Update iframe title
                iframeDoc.title = 'ToolNova Blog';
                const titleElement = iframeDoc.querySelector('title');
                if (titleElement) {
                    titleElement.textContent = 'ToolNova Blog';
                }

                // Hide elements with class containing "blogger"
                const bloggerElements = iframeDoc.querySelectorAll('[class*="blogger"]');
                bloggerElements.forEach(el => {
                    el.style.display = 'none';
                });

                // Hide elements with id containing "image-attribution"
                const imageAttributionElements = iframeDoc.querySelectorAll('[id*="image-attribution"]');
                imageAttributionElements.forEach(el => {
                    el.style.display = 'none';
                });

                // Inject CSS to ensure consistent hiding
                const style = iframeDoc.createElement('style');
                style.textContent = `
                    [class*="blogger"], [id*="image-attribution"] {
                        display: none !important;
                    }
                `;
                iframeDoc.head.appendChild(style);
            } catch (e) {
                console.warn('Cannot modify iframe content due to CORS restrictions:', e);
                iframe.setAttribute('title', 'ToolNova Blog');
            }
        }

        // Export to PDF
        async function exportToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({
                orientation: 'portrait',
                unit: 'px',
                format: 'a4'
            });

            // Capture header
            const header = document.querySelector('header');
            const headerCanvas = await html2canvas(header, { scale: 2 });
            const headerImgData = headerCanvas.toDataURL('image/png');
            const headerImgProps = doc.getImageProperties(headerImgData);
            const pageWidth = doc.internal.pageSize.getWidth();
            const headerHeight = (headerImgProps.height * pageWidth) / headerImgProps.width;
            doc.addImage(headerImgData, 'PNG', 0, 10, pageWidth, headerHeight);

            // Capture iframe content
            const iframe = document.getElementById('blogFrame');
            try {
                const iframeCanvas = await html2canvas(iframe, {
                    scale: 2,
                    useCORS: true,
                    logging: false
                });
                const iframeImgData = iframeCanvas.toDataURL('image/png');
                const iframeImgProps = doc.getImageProperties(iframeImgData);
                const iframeHeight = (iframeImgProps.height * pageWidth) / iframeImgProps.width;
                doc.addPage();
                doc.addImage(iframeImgData, 'PNG', 0, 10, pageWidth, iframeHeight);
            } catch (e) {
                console.warn('Error capturing iframe content:', e);
                doc.addPage();
                doc.text('Unable to capture blog content due to CORS restrictions.', 20, 20);
            }

            // Save the PDF
            doc.save('ToolNova_Blog.pdf');
        }

        // Initialize iframe content modification
        document.getElementById('blogFrame').addEventListener('load', modifyIframeContent);

        // Handle iframe navigation
        window.addEventListener('message', (event) => {
            if (event.origin === 'https://toolnovablog.blogspot.com') {
                modifyIframeContent();
            }
        });
    </script>
</body>
</html>